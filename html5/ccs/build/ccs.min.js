!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.CCS=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){if(!window||!window.moment||"function"!=typeof window.moment)throw"CCS relies on the Moment library: http://momentjs.com/";var d=a("./factory");b.exports=d},{"./factory":2}],2:[function(a,b,c){var d=a("./lib/constructor"),e=a("./utils/utils");b.exports=function(){function a(a){return e.extend(this.configs,a),this}function b(a){var b=new d(a);return b.factory=this,this.calendars.push(b),b}var c=function(){this.configs={}};return c.prototype={calendars:[],create:b,config:a},new c}()},{"./lib/constructor":4,"./utils/utils":9}],3:[function(a,b,c){!function(){function c(a,b,c){var a=moment(a);return a.isBetween(b,c,null,"[]")}function d(a,b){if(b)for(var c=0;c<b.length;c++)a=a.startOf(b[c]);return a}function e(a,b){if(b)for(var c=0;c<b.length;c++){if("number"==typeof b[c])return a=a.add(b[c],b[c+1]);a=a.endOf(b[c])}return a}function f(){this.enabled=!this.enabled}function g(a){"undefined"==typeof a?this.view.hidden=!this.view.hidden:this.view.hidden=!a}function h(a,b){var c=this,d=this.view.animate({opacity:[1,0],transform:["scale(1)","scale("+(b?1.25:.75)+")"]},{duration:150,easing:"ease-in-out"});d.onfinish=function(){c.display(!1);try{a()}catch(a){}}}function i(a,b){var c=this;c.display(!0);var d=this.view.animate({opacity:[0,1],transform:["scale("+(b?.75:1.25)+")","scale(1)"]},{duration:150,easing:"ease-in-out"});d.onfinish=function(){try{a()}catch(a){}}}function j(a){for(var b=generate.rows(this.cols,Math.abs(a),"ccs_col ccs_col_"+this.section,"ccs_row ccs_row_"+this.section),d=a<0,e=d?b.docs.length-1:0,f=d?-1:b.docs.length,g=d?-1:1,h=e;h!=f;h+=g)doc=b.docs[h],d?(this.pointers.start.subtract(1,this.section),this.pointers.end.subtract(1,this.section),doc.innerHTML=this.pointers.start.format(this.format),c(this.pointers.start,this.range.start,this.range.end)||doc.classList.add("ccs_col_oor"),doc.id=this.pointers.start.format()):(doc.innerHTML=this.pointers.end.format(this.format),doc.id=this.pointers.end.format(),c(this.pointers.end,this.range.start,this.range.end)||doc.classList.add("ccs_col_oor"),this.pointers.start.add(1,this.section),this.pointers.end.add(1,this.section));e=d?b.rows.length-1:0,f=d?-1:b.rows.length;for(var h=e;h!=f;h+=g)d?(this.table.body.insertBefore(b.rows[h],this.table.body.firstChild),this.table.body.removeChild(this.table.body.lastChild)):(this.table.body.appendChild(b.rows[h]),this.table.body.removeChild(this.table.body.firstChild));return this}function k(a,b,f){var g=moment(a);this.range.start=d(g.clone(),this.range.start_getter),this.range.end=e(g.clone(),this.range.end_getter),g=d(g,this.start_of),this.pointers.start=g.clone(),this.pointers.end=g.clone();var h=generate.rows(this.cols,this.rows,"ccs_col ccs_col_"+this.section,"ccs_row ccs_row_"+this.section);this.table.body.innerHTML="";for(var i=0;i<h.rows.length;i++)this.table.body.appendChild(h.rows[i]);for(var j,i=0;i<h.docs.length;i++)j=h.docs[i],j.id=this.pointers.end.format(),j.innerHTML=this.pointers.end.format(this.format),c(this.pointers.end,this.range.start,this.range.end)||j.classList.add("ccs_col_oor"),this.pointers.end.add(1,this.section)}var l=a("../utils/utils");generate=l.generate;var m=function(a){this.section=a.section,this.cal=a.cal,this.format=a.format,this.rows=a.rows||1,this.cols=a.cols||1,this.start_date=a.start_date[0]||moment(),this.start_of=a.start_date[1]||[],this.range={start:d(a.range_start[0],a.range_start[1]),end:e(a.range_end[0],a.range_end[1]),start_getter:a.range_start[1],end_getter:a.range_end[1]},this.pointers={start:null,end:null};var b=generate.table(this.rows,"ccs_table ccs_table_"+this.section);this.view=b.table,this.table=b,this.gotoDate(this.start_date,!1)};m.prototype={appendTo:function(a){a.appendChild(this.view)},toggle:f,display:g,fadeOut:h,fadeIn:i,scroll:j,gotoDate:k},b.exports=m}()},{"../utils/utils":9}],4:[function(a,b,c){b.exports=function(){function b(a){return"object"==typeof a&&m.extend(this.configs,a),this}function c(){var a=this,b=performance.now();this.templated=m.generate.calendar();var c=performance.now();console.log("template generated in "+(c-b)+" milliseconds");var d=document.querySelector(this.configs.selector);d||(d=document.createElement("ccs")),d.appendChild(this.templated.root);var e=a.configs.start.date,f=new n({cal:a,section:"years",cols:4,rows:4,format:"YYYY",start_date:[e.clone(),["year"]],range_start:[e.clone(),["year"]],range_end:[e.clone(),[10,"years"]]}),g=new n({cal:a,section:"months",cols:4,rows:4,format:"MMM",start_date:[e.clone(),["month"]],range_start:[e.clone(),["year"]],range_end:[e.clone(),["year"]]}),h=new n({cal:a,section:"days",cols:7,rows:6,format:"D",start_date:[e.clone(),["month","week"]],range_start:[e.clone(),["month"]],range_end:[e.clone(),["month"]]}),i=this.templated.findById("tables").root;f.appendTo(i),g.appendTo(i),h.appendTo(i),this.templated.findById("today").root.innerHTML=moment().format("dddd, MMM D, YYYY"),this.templated.findById("up").root.innerHTML="Up",this.templated.findById("down").root.innerHTML="Down",this.templated.findById("back").root.innerHTML="Back",this.sections={0:f,1:g,2:h,order:[f,g,h],curr:0},this.switchTo(this.configs.start.section),this.view=d,o.add(this);var j=performance.now();return console.log("initialization complete in "+(j-b)+" milliseconds"),this}function d(){var a=document.querySelector(".ccs_selections");if(a){for(;a.firstChild;)a.removeChild(a.firstChild);for(var b,c=0;c<this.selections.length;c++)b=document.createElement("li"),b.innerHTML=this.selections[c].format("dddd, MMM D, YYYY"),a.appendChild(b)}}function e(a,b){for(var c=0,d=this.sections[c];d;)d.section.toLowerCase()==a.toLowerCase()?(b||d.display(!0),this.sections.curr=c):d.display(!1),c+=1,d=this.sections[c];return this}function f(a,b,c){function d(){b&&e.switchTo(b,!0),e.sections[e.sections.curr].gotoDate(a),c&&e.sections[e.sections.curr].fadeIn(null,!0)}var e=this;return c?this.sections[this.sections.curr].fadeOut(d,!0):d(),this}function g(a){var b=this.sections[this.sections.curr],c=this.sections[this.sections.curr+1];c&&(this.sections.curr++,a&&c.gotoDate(a),b.fadeOut(function(){c.fadeIn(null,!0)},!0))}function h(a){var b=this.sections[this.sections.curr],c=this.sections[this.sections.curr-1];c&&(this.sections.curr--,a&&c.gotoDate(a),b.fadeOut(function(){c.fadeIn()}))}function i(a){return this.sections[this.sections.curr].scroll(a),this}function j(a){var b=moment(a);return!this.getSelected(b)&&(this.selections.push(b),this.update(),!0)}function k(a){var b=moment(a),c=this.getSelected(b);return!!c&&(this.selections.splice(c.index,1),this.update(),!0)}function l(a){for(var b=moment(a),c=0;c<this.selections.length;c++)if(this.selections[c].isSame(b))return{date:this.selections[c],index:c};return!1}var m=a("../utils/utils"),n=a("./calsection"),o=(a("./templates"),a("./events")),p=function(a){"object"!=typeof a&&(a={}),this.configs={show:{today:!0,limit:!1,daysOfWeek:!0,doneButton:!0,animations:!0,jumpTo:!0,border:!0,background:!0,settings:!1,multiToggler:!1},limit:1/0,selector:"ccs",name:null,order:null,smoothScroll:!0,style:{minWidth:720,minHeight:400},years:{selectable:!0,range:{start:moment().subtract(100,"years"),end:moment().add(100,"years")}},months:{selectable:!0,consecutive:!1},days:{selectable:"SMTWTFZ",consecutive:!1},time:{selectable:!1},start:{date:moment(),section:"days"}},this.today=moment(),this.selections=[],this.config(a),c.call(this)};return p.prototype={config:b,switchTo:e,next:g,prev:h,scroll:i,goto:f,addSelection:j,update:d,removeSelection:k,getSelected:l,on:o.on,off:o.off},p}()},{"../utils/utils":9,"./calsection":3,"./events":5,"./templates":6}],5:[function(a,b,c){!function(){function c(a,b,c){if("string"==typeof a&&i[a]){var d={type:a,cancel:!1};"object"==typeof b?h.extend(d,b):d.data=b;for(var e=i[a],f=0;f<e.length;f++){e[f](d)}}"function"==typeof c&&c(d)}function d(a,b){return"string"==typeof a&&i[a]&&"function"==typeof b&&i[a].push(b),this}function e(a,b){if("string"==typeof a&&i[a])for(var c=0;c<i[a].length;c++)if(i[a][c]==b)return i[a].splice(c,1),this;return this}function f(a,b){return a.classList?a.classList.contains(b):a.className.split(" ").indexOf(b)!=-1}function g(a){var b=a.templated.root;b.addEventListener("click",function(b){if(src_el=b.target||b.srcElement,f(src_el,"ccs_col")){if(f(src_el,"ccs_col_days")){src_el.classList.toggle("ccs_col_selected");var d=moment(b.srcElement.id);f(src_el,"ccs_col_selected")?(c("select",{selection:d}),a.addSelection(d)):(c("deselect",{selection:d}),a.removeSelection(d)),a.next(d)}else if(f(src_el,"ccs_col_months")){var e=moment(src_el.id).startOf("month");a.next(e)}else if(f(src_el,"ccs_col_years")){var g=moment(src_el.id).startOf("year");a.next(g)}}else f(src_el,"ccs_control")?f(src_el,"ccs_back")?a.prev():f(src_el,"ccs_up")?a.scroll(-1):f(src_el,"ccs_down")&&a.scroll(1):f(src_el,"ccs_today")&&a.goto(moment(),"days",!0);b.stopPropagation()})}var h=a("../utils/utils");b.exports={on:d,off:e,add:g};var i={select:[],deselect:[],switchView:[],complete:[],clear:[]}}()},{"../utils/utils":9}],6:[function(a,b,c){!function(){function a(a){for(var b,c,d=document.createElement("thead"),e=["Su","Mo","Tu","We","Th","Fr","Sa"],f=0;f<e.length;f++)c=e[f],b=document.createElement("th"),b.innerHTML=c,d.appendChild(b);return d}b.exports={days_head:a}}()},{}],7:[function(a,b,c){!function(){function c(a,b){try{var c=document.createElement(a)}catch(a){var c=document.createElement("div")}for(var d=0,e=b.length;d<e;d++)c.classList.add(b[d]);return c}function d(){function a(b,d){if(!b||"function"==typeof b)return null;if("string"==typeof b)return document.createTextNode(b);var e=Object.keys(b);d=d.substring(0,d.indexOf("#"));var f=d.split(".");b.root=c(f[0],f.slice(1));for(var g=0,h=e.length;g<h;g++)el=a(b[e[g]],e[g]),el&&b.root.appendChild(el);return b.root}return a(i,"ccs_root"),i.findById=e,i}function e(a){function b(c){for(var d=Object.keys(c),e=0;e<d.length;e++){if(d[e].substring(d[e].indexOf("#")+1)==a)return c[d[e]];if(val=b(c[d[e]]),val)return val}return null}return b(i)}function f(a,b){var c=document.createElement("table");c.className+=b;var d=document.createElement("tbody");if(b.indexOf("days")>-1)var e=h.days_head();else var e=document.createElement("thead");return c.appendChild(e),c.appendChild(d),{table:c,head:e,body:d}}function g(a,b,c,d){for(var e,f,g=[],h=[],i=0;i<b;i++){e=document.createElement("tr"),e.className+=d,g.push(e);for(var j=0;j<a;j++)f=document.createElement("td"),f.className+=c,h.push(f),e.appendChild(f)}return{rows:g,docs:h}}var h=a("../lib/templates"),i={"div.ccs_datePicker#datepicker":{"div.ccs_today#today":{},"div.ccs_controls#controls":{"p.ccs_control.ccs_back#back":{},"p.ccs_control.ccs_down#down":{},"p.ccs_control.ccs_up#up":{}},"div.ccs_tables_cont#tables":{}},"div.ccs_sideBar#sidebar":{"ul.ccs_tabs#tabs":{},"ul.ccs_selections#selections":{}}};b.exports={table:f,rows:g,calendar:d}}()},{"../lib/templates":6}],8:[function(a,b,c){b.exports=function(){function a(a){return"object"==typeof a&&!(a instanceof Array)}function b(c,d){if(!a(c)||!a(d))return!1;for(var e,f=Object.keys(d),g=0;g<f.length;g++)e=f[g],c[e]&&a(d[e])&&a(c[e])?b(c[e],d[e]):c[e]=d[e]}return b}()},{}],9:[function(a,b,c){b.exports={extend:a("./obj_extend"),generate:a("./cal_gen")}},{"./cal_gen":7,"./obj_extend":8}]},{},[1])(1)});